:root{
  --bg:#ffffff; --fg:#111; --muted:#555; --card:#f6f7f8; --accent:#ffcc00; --brand:#111; --ok:#1e8e3e; --warn:#b00020;
  --radius:16px; --space:16px;
  --font: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-dys: 'OpenDyslexic', 'Atkinson Hyperlegible', var(--font);
  --shadow: 0 2px 12px rgba(0,0,0,.06);
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.5 var(--font)}
body.dyslexia{font-family:var(--font-dys)}
body.high-contrast{--bg:#ffffff; --fg:#000; --card:#fff; --muted:#000; --accent:#ffd000}
.app-header,.app-footer{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;box-shadow:var(--shadow);position:sticky;top:0;z-index:2}
.app-footer{position:static;margin-top:32px}
.logo{height:48px}
h1,h2,h3{margin:8px 0 12px}
.view{display:none;padding:16px;max-width:1100px;margin:0 auto}
.view.active{display:block}
.card{background:var(--card);padding:16px;border-radius:var(--radius);box-shadow:var(--shadow);margin:0 0 16px}
.grid{display:grid;gap:16px}
.grid-2{grid-template-columns:repeat(2,1fr)}
.stage-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}
button, input, select, textarea{font:inherit}
button{background:var(--brand);color:white;border:none;border-radius:12px;padding:10px 14px;cursor:pointer}
button.secondary{background:#eee;color:#111}
button:focus, input:focus, select:focus, textarea:focus{outline:3px solid var(--accent);outline-offset:2px}
input, select, textarea{width:100%;padding:10px;border-radius:12px;border:1px solid #ddd;background:#fff}
label{display:block;margin:8px 0}
.help{margin-top:12px}
.muted{color:var(--muted)}
.progress{height:12px;background:#eee;border-radius:10px;overflow:hidden;margin-top:8px}
.progress>div{height:100%;background:var(--ok)}
.toolbar{display:flex;gap:8px;align-items:center;margin:8px 0}
.list{display:grid;gap:8px}
.card-row{display:flex;justify-content:space-between;align-items:center;background:#fff;border-radius:12px;padding:8px;border:1px solid #eee}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;background:#eee;font-size:12px}
.chip{background:#f0f0f0;border-radius:999px;padding:6px 10px}
.header-actions{display:flex;gap:8px;align-items:center}
.hidden{display:none !important}
.stage-card h4{margin:0 0 8px}
.stage-actions{display:flex;gap:8px;flex-wrap:wrap}
.uploads{font-size:14px;color:#333;margin-top:8px}
.uploads a{display:block;word-break:break-all}
textarea{min-height:96px}
dialog{border:none;border-radius:16px;box-shadow:var(--shadow);width:min(1000px,95vw)}
.file-preview{display:grid;gap:8px}
.file-preview img, .file-preview video{max-width:100%;border-radius:12px}
.file-preview object{width:100%;height:480px;border:1px solid #eee;border-radius:12px}
.rubric{border-collapse:collapse;width:100%;background:#fff;border-radius:12px;overflow:hidden}
.rubric th, .rubric td{border:1px solid #eee;padding:8px;text-align:left}
.badges{display:flex;gap:8px;flex-wrap:wrap}
.badge-tile{background:#fff;border:1px solid #eee;border-radius:12px;padding:8px 12px}
